!function(){const t=document.querySelector(".filter-form");if(t&&t.addEventListener("submit",function(t){t.preventDefault();const e=getFormData(t.target);let a=window.location.origin,n=window.location.pathname,o=a+n;const r=e.daterange,i=e.search,d=$("#order-status").select2("data");let g=null,l=null,c="?page=1";if(""!=r.trim()){const t=$("#daterange").data("daterangepicker");g=t.startDate.format("YYYY-MM-DD"),l=t.endDate.format("YYYY-MM-DD")}""!=i&&(c+="&search="+i),null!=g&&(c+="&startDate="+g),null!=l&&(c+="&endDate="+l),d.forEach((t,e)=>{c+=0==e?"&statuses="+t.id:","+t.id}),o+=c,window.location.href=o}),function(t){let e=[{id:0,text:"Chờ xác nhận"},{id:1,text:"Chờ lấy hàng"},{id:2,text:"Đang giao"},{id:3,text:"Đã giao"},{id:4,text:"Đã hủy"}],a=[];a=null!=t?e.map(e=>{const a=t.some(t=>t==e.id);return a?{id:e.id,text:e.text,selected:!0}:{id:e.id,text:e.text}}):[...e];$("#order-status").select2({placeholder:"Chọn trạng thái",allowClear:!0,data:a})}(g_aStatuses),new Pagination({rowCount:g_iTotalItem,pageSize:g_iPageSize,defaultPage:g_iCurrentPage},"#page-pagination").onChangePage(t=>{let e=window.location.origin+window.location.pathname,a=new URLSearchParams(window.location.search).toString();e+="?"+(a=""!=a?a.replace(/page=\d+/gi,"page="+t):"page="+t),window.location.href=e}),$("#daterange").daterangepicker({opens:"center",maxDate:new Date,autoUpdateInput:!1,locale:{cancelLabel:"Clear"}}),$("#daterange").on("apply.daterangepicker",function(t,e){$(this).val(e.startDate.format("DD/MM/YYYY")+" - "+e.endDate.format("DD/MM/YYYY"))}),$("#daterange").on("cancel.daterangepicker",function(t,e){$(this).val("")}),g_dStartDate&&g_dEndDate){const t=moment(g_dStartDate,"YYYY-MM-DD"),e=moment(g_dEndDate,"YYYY-MM-DD");$("#daterange").val(t.format("DD/MM/YYYY")+" - "+e.format("DD/MM/YYYY")),$("#daterange").data("daterangepicker").setStartDate(t.toDate()),$("#daterange").data("daterangepicker").setEndDate(e.toDate())}}();