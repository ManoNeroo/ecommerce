const TECHNICAL_TAB=document.getElementById("technical-nav"),TECHNICAL_FORM=document.getElementById("technical-form"),table=new TechnicalDataTable("#technical-data-preview"),form=new TechnicalDataForm("#technical-add-fields");async function handleSaveTechnical(e){e.preventDefault();let t={content:"",productId:BASIC_FORM.querySelector("input[name='id']").value};t.content=JSON.stringify(form.data);const a=TECHNICAL_FORM.querySelector("input[name='id']"),n=a.value;""==n||isNaN(Number(n))||(t.id=Number(n));const i=await httpClient("/api/technicaldata","POST",t);i.isSuccess?(a.value=i.data.id,showAlert("success","Thành công","Thông số kỹ thuật đã được lưu lại!")):showAlert("failed","Thất bại","Có lỗi xảy ra, vui lòng thử lại!")}async function handleClickTechnicalTab(){const e=BASIC_FORM.querySelector("input[name='id']").value,t=await httpClient("/api/technicaldata/product/"+e);if(form.clearData(),table.clearData(),t.isSuccess)if(null!=t.data){form.setData(JSON.parse(t.data.content)),TECHNICAL_FORM.querySelector("input[name='id']").value=t.data.id}else form.setData(DEFAULT_DATA);else form.setData(DEFAULT_DATA)}form.onAddRow(e=>table.addRow(e)),form.onEditRow(e=>table.editRow(e)),form.onRemoveRow(e=>table.removeRow(e)),TECHNICAL_TAB.addEventListener("click",handleClickTechnicalTab),TECHNICAL_FORM.addEventListener("submit",handleSaveTechnical);const DEFAULT_DATA=[{id:"1",name:"Tên thông số 1",value:"Giá trị thông số 1"},{id:"2",name:"Tên thông số 2",value:"Giá trị thông số 2"},{id:"3",name:"Tên thông số 3",value:"Giá trị thông số 3"},{id:"4",name:"Tên thông số 4",value:"Giá trị thông số 4"},{id:"5",name:"Tên thông số 5",value:"Giá trị thông số 5"},{id:"6",name:"Tên thông số 6",value:"Giá trị thông số 6"}];