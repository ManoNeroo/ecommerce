class Pagination{constructor(e,t){1!==t.nodeType&&(t=document.querySelector(t)),this.configs=validateConfigs(e),this.element=initElement(this.configs,t)}onChangePage(e){this.element.addEventListener("changePage",t=>{e(t.detail.currentPage)})}setPage(e){e<=this.configs.rowCount&&initPagination({...this.configs,defaultPage:e},this.element)}}const PAGINATION_BTN_ACTIVE_CLASS_NAME="active",PAGINATION_WRAPPER_CLASS_NAME="mn-pagination",PAGINATION_CLASS_NAME="mn-pagination-elm",PAGINATION_ITEM_CLASS_NAME="mn-pagination-item",DEFAULT_HREF="javascript:void(0)",PREV_SVG='<svg class="mn-pagination-icprev" focusable="false" viewBox="0 0 24 24" aria-hidden="true"><path d="M15.41 16.09l-4.58-4.59 4.58-4.59L14 5.5l-6 6 6 6z"></path></svg>',NEXT_SVG='<svg class="mn-pagination-icnext" focusable="false" viewBox="0 0 24 24" aria-hidden="true"><path d="M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"></path></svg>';function getTotalPages(e,t){return e%t==0?Math.round(e/t):Math.floor(e/t)+1}function validateConfigs(e){return("number"!=typeof e.pageSize||e.pageSize<1)&&(e.pageSize=1),("number"!=typeof e.rowCount||e.rowCount<1)&&(e.rowCount=1),("number"!=typeof e.defaultPage||e.defaultPage<1)&&(e.defaultPage=1),e.href||(e.href=DEFAULT_HREF),e}function createActionButton(e,t){const n=document.createElement("li"),i=document.createElement("a");return n.classList.add(PAGINATION_ITEM_CLASS_NAME),i.innerHTML=e,i.href=t,n.appendChild(i),n}function initElement(e,t){t.innerHTML="";const n=document.createElement("div");return n.classList.add(PAGINATION_WRAPPER_CLASS_NAME),initPagination(e,n),t.appendChild(n),n}function initPagination({defaultPage:e,pageSize:t,rowCount:n,href:i},a){let o,d=e-1,c=e+1;const s=getTotalPages(n,t);if(s>1){const l=document.createElement("ul"),r=createActionButton(PREV_SVG,i),u=createActionButton(NEXT_SVG,i);if(l.appendChild(r),e>1?(r.addEventListener("click",()=>{initPagination({defaultPage:e-1,pageSize:t,rowCount:n,href:i},a)}),r.classList.remove("disabled")):r.classList.add("disabled"),e==s?d-=2:e==s-1&&(d-=1),1==e?c+=2:2==e&&(c+=1),e>2&&d>1){const o=createActionButton("1",i);if(o.addEventListener("click",()=>{initPagination({defaultPage:1,pageSize:t,rowCount:n,href:i},a)}),l.appendChild(o),e>3&&d>2){const e=createActionButton("...",i);l.appendChild(e)}}for(let r=d;r<=c;r++){if(r>s||r<0)continue;0==r&&(r+=1),o=e==r;const d=createActionButton(r,i);if(d.addEventListener("click",()=>{initPagination({defaultPage:r,pageSize:t,rowCount:n,href:i},a)}),o){d.classList.add(PAGINATION_BTN_ACTIVE_CLASS_NAME);const t=new CustomEvent("changePage",{detail:{currentPage:e}});a.dispatchEvent(t)}l.appendChild(d)}if(e<s-1&&c<s){if(e<s-2&&c<s-1){const e=createActionButton("...",i);l.appendChild(e)}const o=createActionButton(s,i);o.addEventListener("click",()=>{initPagination({defaultPage:s,pageSize:t,rowCount:n,href:i},a)}),l.appendChild(o)}e<s?(u.addEventListener("click",()=>{initPagination({defaultPage:e+1,pageSize:t,rowCount:n,href:i},a)}),u.classList.remove("disabled")):u.classList.add("disabled"),l.classList.add(PAGINATION_CLASS_NAME),l.appendChild(u),a.innerHTML="",a.appendChild(l)}}